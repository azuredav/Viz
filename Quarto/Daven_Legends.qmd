---
title: "Legends"
author: "Daven"
toc: true
number-sections: true
format:
  html:
    embed-resources: true
---

## Basic Box Plot

- `library(ggplot2)`: This loads the `ggplot2` library.
- `ggplot(PlantGrowth, aes(x = group, y = weight))`:
    - Uses the built-in `PlantGrowth` dataset
    - Creates a plot with `group` on the x-axis and `weight` on the y-axis
    - `aes()` defines the aesthetic mappings of the plot
- `geom_boxplot()`: Adds a box plot geometry to visualize the distribution of weights across different groups
- `labs(title = 'Basic Box Plot', caption = 'By Daven, DV, THU, 2024')`: Adds a title and caption to the plot  
- `theme(plot.title = element_text(hjust = 0.5, size = 20))`: Centers the title horizontally `(hjust = 0.5)` and size of the text to `size = 20`

```{r}
library(ggplot2)

ggplot(PlantGrowth, aes (x = group, y = weight)) +
  geom_boxplot() +
  labs(title = 'Basic Box Plot',
       caption = 'By Daven, DV, THU, 2024') +
  theme(plot.title = element_text(hjust = 0.5, size = 20))
```

## Add a Legend

- `library(gridExtra)`: this load the `gridExtra` library
- `fill`: to add color inside the area of the box
- `color`: to add color around the outline of the box
- `grid.arrange()`: used to arrange multiple grid-based plots on a single page
- `ncol`: used to determine the number of column within the box plot chart
- `top`: Adds title into the box plot chart
- `bottom`: Adds caption into the box plot chart

```{r}
#| warning: false
library(ggplot2)
library(gridExtra)

p1 <- ggplot(PlantGrowth, aes(x = group, y = weight)) + 
  geom_boxplot()

p2 <- ggplot(PlantGrowth, aes(x = group, y = weight, fill = group)) + 
  geom_boxplot()

p3 <- ggplot(PlantGrowth, aes(x = group, y = weight, color = group)) + 
  geom_boxplot()

grid.arrange(p1, p2, p3, ncol = 3, top = 'Add Legend', 
             bottom = 'Daven, DV, THU 2024')
```

## Remove Legend

Using the same chart in [Basic Box Plot], The legend is removed by `guides(fill = FALSE)`

- `guides(fill)`: use to activating/disabling legends

```{r}
#| warning: false
ggplot(PlantGrowth, aes(x = group, y = weight, fill = group)) + 
  geom_boxplot() +
  guides(fill = FALSE) +
  ggtitle('Remove Legend') +
  theme(plot.title = element_text(hjust=0.5))
```

## Change Color of Legend

Using the same chart in [Basic Box Plot], we'll change the box plot's `fill` using `"Pastel2"`

- `scale_fill_brewer(palette = "Pastel2")`:
    - `scale_fill_brewer()`: add aesthetically pleasing color palettes to the box plot
    - `palette = "Pastel2"`: give `"Pastel2"` color palette to the box plot 

```{r}
ggplot(PlantGrowth, aes(x = group, y = weight, fill = group)) +
  geom_boxplot() +
  scale_fill_brewer(palette = "Pastel2") +
  ggtitle('Change Color of Legend') +
  theme(plot.title = element_text(hjust=0.5))
```

## Change Posistion of Legend

Continuing from [Change Color of Legend], we'll change the legend's position to the `top`

- `theme(plot.title = element_text(hjust = 0.5), legend.position = 'top')`:
    - Centers the title horizontally `(hjust=0.5)`
    - Putting the legend's position on top of the box plot chart `legend.position = 'top'`

```{r}
ggplot(PlantGrowth, aes(x = group, y = weight, fill = group)) +
  geom_boxplot() +
  scale_fill_brewer(palette = "Pastel2") +
  ggtitle('Change Position of Legend') +
  theme(plot.title = element_text(hjust=0.5),
        legend.position = 'top')
```

## Practice

Change `legend` position to `top`, `bottom`, `left`, and `right`.

```{r}
p1 <- ggplot(PlantGrowth, aes(x = group, y = weight, fill = group)) +
  geom_boxplot() +
  scale_fill_brewer(palette = "Pastel2") +
  ggtitle('Change Color of Legend') +
  theme(plot.title = element_text(hjust=0.5),
        legend.position = 'top')
p2 <- p1 + theme(legend.position = 'bottom')
p3 <- p1 + theme(legend.position = 'left')
p4 <- p1 + theme(legend.position = 'right')

grid.arrange(p1, p2, p3, p4, ncol=2,
             top='Chainging Position of Legend')
```

